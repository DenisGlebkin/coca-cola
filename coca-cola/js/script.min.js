class Snow{constructor(){this.snowElements=document.querySelectorAll(".snow"),this.isSnowActive=!1,this.responsive(),this.createEvents()}load(){this.snowElements.forEach(e=>{this.snowFly(e)}),this.isSnowActive=!0}snowFly(e){var s,t=document.createElement("canvas"),i=t.getContext("2d"),r=e.clientWidth,l=e.clientHeight,n=0,o=!1,a=[];t.style.position="absolute",t.style.left=t.style.top="0";var d=function(){this.x=0,this.y=0,this.vy=0,this.vx=0,this.r=0,this.reset()};function c(){if(i.clearRect(0,0,r,l),o){for(n=0;n<300;n++)(s=a[n]).y+=s.vy,s.x+=s.vx,i.globalAlpha=s.o,i.beginPath(),i.arc(s.x,s.y,s.r,0,2*Math.PI,!1),i.closePath(),i.fill(),s.y>l&&s.reset();requestAnimFrame(c)}}function h(){r=e.clientWidth,l=e.clientHeight,t.width=r,t.height=l,i.fillStyle="#FFF";var s=o;o=r>319,!s&&o&&requestAnimFrame(c)}d.prototype.reset=function(){this.x=Math.random()*r,this.y=Math.random()*-l,this.vy=1+3*Math.random(),this.vx=.5-Math.random(),this.r=1+2*Math.random(),this.o=.5+.5*Math.random()},function(){for(a=[],n=0;n<1e3;n++)(s=new d).reset(),a.push(s)}(),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},h(),window.addEventListener("resize",h,!1),e.appendChild(t)}responsive(e){let s=document.body;if(s.clientWidth<992&&(this.isSnowActive||!e)){this.snowElements.forEach(e=>{e.remove()}),this.isSnowActive=!1;let e=document.createElement("span"),s=document.querySelector(".page-wrapper");e.classList.add("snow"),s.prepend(e),this.snowFly(e)}else if(s.clientWidth>=992&&!this.isSnowActive){let e=document.querySelector(".snow"),s=document.querySelectorAll(".section");e&&e.remove(),s.forEach(e=>{let s=document.createElement("span");s.classList.add("snow"),e.prepend(s)}),this.snowElements=document.querySelectorAll(".snow"),this.load()}}createEvents(){window.addEventListener("resize",this.responsive.bind(this))}}class PageSlider{constructor(){this.slider=null,this.sliderContainer=document.querySelector(".page-wrapper"),this.sliderWrapper=this.sliderContainer.querySelector(".main"),this.sliderSlides=this.sliderWrapper.querySelectorAll(".section"),this.isSliderActive=!1,this.toggleSlider(),this.createEvents()}enableSlider(){this.sliderContainer.classList.add("swiper-container"),this.sliderWrapper.classList.add("swiper-wrapper"),this.sliderSlides.forEach(e=>{e.classList.add("swiper-slide")}),this.slider=new Swiper(".page-wrapper",{spaceBetween:0,speed:700,allowTouchMove:!1,direction:"vertical",allowTouchMove:!1,mousewheel:!0}),this.slider.on("slideChange",this.snowflake.bind(this)),this.isSliderActive=!0}disableSlider(){this.isSliderActive&&this.slider.destroy(!0,!0),this.sliderContainer.classList.remove("swiper-container"),this.sliderWrapper.classList.remove("swiper-wrapper"),this.sliderSlides.forEach(e=>{e.classList.remove("swiper-slide")}),this.isSliderActive=!1}toggleSlider(e){const s=document.body.clientWidth;s>=992&&!this.isSliderActive?this.enableSlider():s<992&&(this.isSliderActive||!e)&&this.disableSlider()}toggleMousewheel(){this.isSliderActive&&(this.slider.mousewheel.enabled?this.slider.mousewheel.disable():this.slider.mousewheel.enable())}snowflake(){let e=this.sliderWrapper.querySelector(".snowflake");1===this.slider.activeIndex&&0===this.slider.previousIndex?e.classList.add("snowflake--fly"):0===this.slider.activeIndex&&1===this.slider.previousIndex&&e.classList.remove("snowflake--fly")}createEvents(){window.addEventListener("resize",this.toggleSlider.bind(this))}}!function(){const e=document.querySelector(".santa-message");window.onload=setTimeout(()=>{e.classList.add("santa-message--shown")},3e3);const s=new Swiper(".presents__contorls",{slidesPerView:3,spaceBetween:25,watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!0,allowTouchMove:!1,breakpoints:{1200:{spaceBetween:35}}}),t=(new Swiper(".presents__presents-descriptions",{spaceBetween:0,speed:700,thumbs:{swiper:s,slideThumbActiveClass:"contorls-presents__item--active"},allowTouchMove:!1,effect:"fade",fadeEffect:{crossFade:!0}}),new PageSlider),i=(new Snow,document.querySelector(".burger-btn"));i.addEventListener("click",()=>{i.classList.toggle("burger-btn--active"),document.body.classList.toggle("overflow"),t.toggleMousewheel()}),$(".letter-form__select").niceSelect()}();